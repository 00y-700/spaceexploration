<!doctype html>
<html lang="en">
  <head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
 
      <!-- Compiled and minified CSS -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
 
      <link rel="stylesheet" href="style.css">
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <link href="https://cesium.com/downloads/cesiumjs/releases/1.71/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
      <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
      <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <!-- Compiled and minified JavaScript -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
      <script src="https://cesium.com/downloads/cesiumjs/releases/1.71/Build/Cesium/Cesium.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>

    </head>
    <body>
        
    <h1>APOD</h1>
        <br>
    <!-- <button class="apodBtn">Click Me</button> -->
    
    <div>
        <form>
            <p>Input a date! Astronomy Photo of the Day started in July of 1995.</p>
            <p>Please use format of YYYY-MM-DD</p>
            <input type="text" id="selectedDate" placeholder="ex: 2012-03-28">
            <button class="apodBtn">Search Date</button>
        </form>
    </div>
    

    <div class="content">
        <img class="apod" src="" alt="APOD">
        <div class="apodInfo"></div>
    </div>
  
    <script type="text/javascript">
      $(".apodBtn").on("click", function() {
    event.preventDefault();
    var selectedDate = document.getElementById("selectedDate").value;
    console.log(selectedDate);

    var queryURL = "https://api.nasa.gov/planetary/apod?api_key=6oFKRPYlitRe8khoY4zxJVrqOqD8GjisXLnWf2PJ&date=" + selectedDate + "&"
    console.log(queryURL);

    $.ajax({
        url: queryURL,
        method: "GET"
    }).then(function(response) {
        console.log(response);
        var imgAPOD = response.url;
        console.log(imgAPOD);
        var titleAPOD = response.title;
        console.log(titleAPOD);
        var explanationAPOD = response.explanation;
        console.log(explanationAPOD);

        var contentAPOD = $(".content");
        var infoApod = $(".apodInfo");
        var imgTag = $(".apod");

        imgTag.attr("src", imgAPOD);
        infoApod.append(titleAPOD);
        infoApod.append($("<br>"));
        infoApod.append(selectedDate);
        infoApod.append($("<br>"));
        infoApod.append(explanationAPOD);
    });

});  
    </script>
    



 </body>
</html>